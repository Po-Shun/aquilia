#-----------------------------------------------------------
# Vivado v2021.1 (64-bit)
# SW Build 3247384 on Thu Jun 10 19:36:33 MDT 2021
# IP Build 3246043 on Fri Jun 11 00:30:35 MDT 2021
# Start of session at: Thu Nov 25 19:28:36 2021
# Process ID: 15264
# Current directory: C:/Users/a609071103.cs07/Documents/micro processor/新增資料夾/aquila_dram
# Command line: vivado.exe -mode batch -source build.tcl
# Log file: C:/Users/a609071103.cs07/Documents/micro processor/新增資料夾/aquila_dram/vivado.log
# Journal file: C:/Users/a609071103.cs07/Documents/micro processor/新增資料夾/aquila_dram\vivado.jou
#-----------------------------------------------------------
source build.tcl
# set ver [version -short]
# scan $ver %d.%d vmajor vminor
# if { $vmajor > 2020 } {
#     set gen_srcs gen
# } else {
#     set gen_srcs srcs
# }
# set origin_dir "."
# set proj_name "aquila_dram"
# variable script_file
# set script_file "${proj_name}.tcl"
# create_project ${proj_name} ./${proj_name} -part xc7a35ticsg324-1L
INFO: [ProjectBase 1-489] The host OS only allows 260 characters in a normal path. The project is stored in a path with more than 80 characters. If you experience issues with IP, Block Designs, or files not being found, please consider moving the project to a location with a shorter path. Alternately consider using the OS subst command to map part of the path to a drive letter.
Current project path is 'C:/Users/a609071103.cs07/Documents/micro processor/新增資料夾/aquila_dram/aquila_dram'
# set obj [current_project]
# set_property -name "board_part" -value "digilentinc.com:arty-a7-35:part0:1.0" -objects $obj
# set_property -name "default_lib" -value "xil_defaultlib" -objects $obj
# set_property -name "sim.ip.auto_export_scripts" -value "1" -objects $obj
# set_property -name "simulator_language" -value "Mixed" -objects $obj
# set_property -name "xpm_libraries" -value "XPM_CDC XPM_MEMORY" -objects $obj
# if {[string equal [get_filesets -quiet sources_1] ""]} {
#   create_fileset -srcset sources_1
# }
# set obj [get_filesets sources_1]
# set files [list \
#  [file normalize "$origin_dir/src/core_rtl/alu.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/aquila_top.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/atomic_unit.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/bcu.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/bpu.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/clint.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/core_top.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/csr_file.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/dcache.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/decode.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/distri_ram.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/execute.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/fetch.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/forwarding_unit.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/icache.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/memory.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/muldiv.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/pipeline_control.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/program_counter.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/reg_file.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/sram.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/sram_dp.v" ]\
#  [file normalize "$origin_dir/src/uart.v" ]\
#  [file normalize "$origin_dir/src/core_rtl/writeback.v" ]\
#  [file normalize "$origin_dir/src/soc_top.v" ]\
#  [file normalize "$origin_dir/src/cdc_sync.v" ]\
#  [file normalize "$origin_dir/src/mem_arbiter.v" ]\
#  [file normalize "$origin_dir/src/mem/bootrom.mem" ]\
# ]
# set imported_files [import_files -fileset sources_1 $files]
# set file "mem/bootrom.mem"
# set file_obj [get_files -of_objects [get_filesets sources_1] [list "*$file"]]
# set_property -name "file_type" -value "Memory File" -objects $file_obj
# set obj [get_filesets sources_1]
# set_property -name "top" -value "soc_top" -objects $obj
# create_ip -name fifo_generator -vendor xilinx.com -library ip -module_name async_fifo_addr
INFO: [IP_Flow 19-234] Refreshing IP repositories
INFO: [IP_Flow 19-1704] No user IP repositories specified
INFO: [IP_Flow 19-2313] Loaded Vivado IP repository 'C:/Xilinx/Vivado/2021.1/data/ip'.
# set_property -dict [list \
#     CONFIG.fifo_implementation {independent_clocks_distributed_ram} \
#     CONFIG.synchronization_stages {3} \
#     CONFIG.input_data_width {32} \
#     CONFIG.input_depth {16} \
#     CONFIG.reset_pin {false} \
#     CONFIG.performance_options {first_word_fall_through} ] [get_ips async_fifo_addr]
# generate_target all [get_files ${proj_name}/${proj_name}.srcs/sources_1/ip/async_fifo_addr/async_fifo_addr.xci]
INFO: [IP_Flow 19-1686] Generating 'Instantiation Template' target for IP 'async_fifo_addr'...
INFO: [IP_Flow 19-1686] Generating 'Synthesis' target for IP 'async_fifo_addr'...
INFO: [IP_Flow 19-1686] Generating 'Simulation' target for IP 'async_fifo_addr'...
INFO: [IP_Flow 19-1686] Generating 'Change Log' target for IP 'async_fifo_addr'...
# create_ip -name fifo_generator -vendor xilinx.com -library ip -module_name async_fifo_data
# set_property -dict [list \
#     CONFIG.fifo_implementation {independent_clocks_distributed_ram} \
#     CONFIG.synchronization_stages {3} \
#     CONFIG.input_data_width {128} \
#     CONFIG.input_depth {16} \
#     CONFIG.reset_pin {false} \
#     CONFIG.performance_options {first_word_fall_through} ] [get_ips async_fifo_data]
# generate_target all [get_files ${proj_name}/${proj_name}.srcs/sources_1/ip/async_fifo_data/async_fifo_data.xci]
INFO: [IP_Flow 19-1686] Generating 'Instantiation Template' target for IP 'async_fifo_data'...
INFO: [IP_Flow 19-1686] Generating 'Synthesis' target for IP 'async_fifo_data'...
INFO: [IP_Flow 19-1686] Generating 'Simulation' target for IP 'async_fifo_data'...
INFO: [IP_Flow 19-1686] Generating 'Change Log' target for IP 'async_fifo_data'...
# create_ip -name fifo_generator -vendor xilinx.com -library ip -module_name async_fifo_signal
# set_property -dict [list \
#     CONFIG.fifo_implementation {independent_clocks_distributed_ram} \
#     CONFIG.synchronization_stages {3} \
#     CONFIG.input_data_width {1} \
#     CONFIG.input_depth {16} \
#     CONFIG.reset_pin {false} \
#     CONFIG.performance_options {first_word_fall_through} ] [get_ips async_fifo_signal]
# generate_target all [get_files ${proj_name}/${proj_name}.srcs/sources_1/ip/async_fifo_signal/async_fifo_signal.xci]
INFO: [IP_Flow 19-1686] Generating 'Instantiation Template' target for IP 'async_fifo_signal'...
INFO: [IP_Flow 19-1686] Generating 'Synthesis' target for IP 'async_fifo_signal'...
INFO: [IP_Flow 19-1686] Generating 'Simulation' target for IP 'async_fifo_signal'...
INFO: [IP_Flow 19-1686] Generating 'Change Log' target for IP 'async_fifo_signal'...
# create_ip -name clk_wiz -vendor xilinx.com -library ip -module_name clk_wiz_0
# set_property -dict [list \
#     CONFIG.PRIM_IN_FREQ {100.000} \
#     CONFIG.CLKOUT1_REQUESTED_OUT_FREQ {166.6667} \
#     CONFIG.CLKOUT2_USED {true} \
#     CONFIG.CLKOUT2_REQUESTED_OUT_FREQ {200.0000} \
#     CONFIG.CLKOUT3_USED {false} \
#     CONFIG.USE_RESET {false} \
#     CONFIG.USE_LOCKED {false}] [get_ips clk_wiz_0]
# generate_target all [get_files ${proj_name}/${proj_name}.srcs/sources_1/ip/clk_wiz_0/clk_wiz_0.xci]
INFO: [IP_Flow 19-1686] Generating 'Instantiation Template' target for IP 'clk_wiz_0'...
INFO: [IP_Flow 19-1686] Generating 'Synthesis' target for IP 'clk_wiz_0'...
INFO: [IP_Flow 19-1686] Generating 'Simulation' target for IP 'clk_wiz_0'...
INFO: [IP_Flow 19-1686] Generating 'Implementation' target for IP 'clk_wiz_0'...
INFO: [IP_Flow 19-1686] Generating 'Change Log' target for IP 'clk_wiz_0'...
# create_ip -name mig_7series -vendor xilinx.com -library ip -module_name mig_7series_0
# file copy $origin_dir/src/mig/mig-xc7a35t.prj ${proj_name}/${proj_name}.srcs/sources_1/ip/mig_7series_0/mig.prj
# set_property -dict [list CONFIG.XML_INPUT_FILE {mig.prj}] [get_ips mig_7series_0]
# generate_target {instantiation_template} [get_files ${proj_name}/${proj_name}.srcs/sources_1/ip/mig_7series_0/mig_7series_0.xci]
INFO: [IP_Flow 19-1686] Generating 'Instantiation Template' target for IP 'mig_7series_0'...
# generate_target all [get_files ${proj_name}/${proj_name}.srcs/sources_1/ip/mig_7series_0/mig_7series_0.xci]
INFO: [IP_Flow 19-1686] Generating 'Synthesis' target for IP 'mig_7series_0'...
INFO: [IP_Flow 19-1686] Generating 'Simulation' target for IP 'mig_7series_0'...
INFO: [IP_Flow 19-1686] Generating 'Implementation' target for IP 'mig_7series_0'...
INFO: [IP_Flow 19-1686] Generating 'Change Log' target for IP 'mig_7series_0'...
generate_target: Time (s): cpu = 00:00:20 ; elapsed = 00:00:22 . Memory (MB): peak = 1133.613 ; gain = 0.000
# if {[string equal [get_filesets -quiet constrs_1] ""]} {
#   create_fileset -constrset constrs_1
# }
# set obj [get_filesets constrs_1]
# set file "[file normalize "$origin_dir/src/xdc/arty.xdc"]"
# set file_imported [import_files -fileset constrs_1 [list $file]]
# set file "arty.xdc"
# set file_obj [get_files -of_objects [get_filesets constrs_1] [list "*$file"]]
# set_property -name "file_type" -value "XDC" -objects $file_obj
# set obj [get_filesets constrs_1]
# set_property -name "target_constrs_file" -value "[get_files */arty.xdc]" -objects $obj
# set_property -name "target_ucf" -value "[get_files */arty.xdc]" -objects $obj
# if {[string equal [get_filesets -quiet sim_1] ""]} {
#   create_fileset -simset sim_1
# }
# set obj [get_filesets sim_1]
# set files [list \
#  [file normalize "$origin_dir/src/sim/aquila_tb.v" ]\
# ]
# set imported_files [import_files -fileset sim_1 $files]
# set obj [get_filesets sim_1]
# set_property -name "top" -value "aquila_tb" -objects $obj
# set_property -name "top_lib" -value "xil_defaultlib" -objects $obj
# puts "INFO: Project created:${proj_name}"
INFO: Project created:aquila_dram
INFO: [Common 17-206] Exiting Vivado at Thu Nov 25 19:29:16 2021...
